(define fcons (lambda (x y) (lambda (p) (if p x y))))
(define fcar (lambda (pair) (pair #t)))
(define fcdr (lambda (pair) (pair #f)))

(deftype List)
(defrep List Paired)
(defconstructor List:Paired (lambda (x (List y)) (cons x y)))

(defrep List Functional)
(defconstructor List:Functional (lambda (x (List y)) (fcons x y)))

(defrep List Empty)
(defconstructor List:Empty (lambda () nil))
